<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; CHARSET=iso-8859-1">
<STYLE TYPE="text/css"><!--
BODY { font-family: serif }
H1 { font-family: sans-serif }
H2 { font-family: sans-serif }
H3 { font-family: sans-serif }
H4 { font-family: sans-serif }
H5 { font-family: sans-serif }
H6 { font-family: sans-serif }
SUB { font-size: smaller }
SUP { font-size: smaller }
PRE { font-family: monospace }
A { text-decoration: none }
--></STYLE>
</HEAD>
<BODY>
<A HREF="index.html">Contents</A>
<A HREF="6csimdoc.html">Previous</A>
<A HREF="7adv.html">Next</A>
<HR>
<H1><A NAME="9">9 Gantt charts</A></H1>
<H2><A NAME="9_1">9.1 Some notes on format and files used in this
 tutorial</A></H2>
 All source code displayed in the tutorial are separate files which are
 included in the same directory as this tutorial. It is always the exact
 code that generated the image that is shown and not a hand made copy.
 The PHP source is syntax highlighted to make it easier to follow. The
 actual file name appears for the code can always be found in the first
 line of the displayed source.
<P> Sometimes (to save space) the full source is not included in the
 running text. For example if a new example is just a very minor
 modification to a previous example. In that case I just show the
 difference. For all images in this tutorial the full source can always
 be seen by clicking on the &quot;[src]&quot; tag at the end of the caption for
 that image.</P>
<P> My hope is that these convention will make it easier to follow the
 tutorial and will give a balanced mix of full source versus space and
 ease of reading.</P>
<H2><A NAME="9_2">9.2 Why use Gantt charts?</A></H2>
 The cynical view: To explain why your project is over-due and
 over-budget.
<P> The pragmatic view: To keep management of our back and know what we
 have forgotten</P>
<P> The common view: As a tool to help identify project issues and
 highlight problem areas.</P>
<P> Basically, Gantt charts are used to show the state of a number of
 activities (possible grouped) against time.</P>
<H2><A NAME="9_3">9.3 Capabilities in JpGraph Gantt module</A></H2>
<UL>
<LI> Both automatic and manual scaling of date</LI>
<LI> Full support for independent CSIM for both labels and activity bars</LI>
<LI> Extremely flexible scales, possibility to use both months, weeks,
 days, hours and minutes as scales. Furthermore (unlike MS Project) you
 can have as may scales displayed at the same time as you like.</LI>
<LI> Support for visualization of grouped activities</LI>
<LI> Gantt charts can be automatically sized according to the number of
 bars and scale used. This means you don't have to supply a specific
 size when creating a graph.</LI>
<LI> Unlimited number of activities</LI>
<LI> Supports platform independent Week number calculation according to
 ISO:8601</LI>
<LI> Rich possibility to display a variety of scales or combination of
 scales supports both day, week, month, year. Each scale header is
 totally configurable in terms of font, size, color, background etc</LI>
<LI> User configurable date format in the scale headlines</LI>
<LI> Visualization of constrains between activities, start-to-start,
 start-to-end, end-to-start and end-to-end</LI>
<LI> Scales have &quot;intelligent&quot; grids</LI>
<LI> Supports title and subtitle with user specified font, size and
 color</LI>
<LI> Activity bars can have multiple patterns and colors</LI>
<LI> Activity bar may have shadows</LI>
<LI> Activity bars can have internal progress bars displayed to show how
 much of a given task has been accomplished</LI>
<LI> Activity titles can have individual fonts, colors and backgrounds</LI>
<LI> Activity bars can have captions</LI>
<LI> Activity bars can have specified left- and right end markers</LI>
<LI> Bar heights can be specified in absolute pixels or in percent of
 the activity line width</LI>
<LI> Supports milestones with many different marks</LI>
<LI> Supports vertical marker lines with text</LI>
<LI> Can easily be localized</LI>
<LI> Full support for CSIM (or drill down graphs)</LI>
<LI> Fully OO API which makes the API consistent and easy to learn</LI>
<LI> ... and more</LI>
</UL>
<H2><A NAME="9_4">9.4 A simple Gantt chart</A></H2>
 Time to show you an example of a Gantt chart and how easy it is to make
 one. Lets make it the simplest possible Gantt chart. One activity,
 named &quot;Project&quot;, which lasts from &quot;2001-11-01&quot; to &quot;2002-02-20&quot;.
<P> All it takes to do this (using default values for everything) is the
 following code.<DIV style="background-color:#E6E6E6;font-family:courier new;font-size:80%;font-weight:bold;">
(File: ganttex00.php)
<BR><CODE><FONT color="#000000"><FONT color="#0000BB"> &lt;?php
<BR /></FONT><FONT color="#007700">include (</FONT><FONT color="#DD0000">
&quot;../jpgraph.php&quot;</FONT><FONT color="#007700">);
<BR />include (</FONT><FONT color="#DD0000">&quot;../jpgraph_gantt.php&quot;</FONT><FONT
color="#007700">);
<BR />
<BR /></FONT><FONT color="#000000">// A new graph with automatic size
<BR /></FONT><FONT color="#0000BB">$graph</FONT><FONT color="#007700"> =
 new</FONT><FONT color="#0000BB"> GanttGraph</FONT><FONT color="#007700">
(</FONT><FONT color="#0000BB">0</FONT><FONT color="#007700">,</FONT><FONT
color="#0000BB">0</FONT><FONT color="#007700">,</FONT><FONT color="#DD0000">
&quot;auto&quot;</FONT><FONT color="#007700">);
<BR />
<BR /></FONT><FONT color="#000000">//&nbsp;&nbsp;A new activity on row '0'
<BR /></FONT><FONT color="#0000BB">$activity</FONT><FONT color="#007700">
 = new</FONT><FONT color="#0000BB"> GanttBar</FONT><FONT color="#007700">
(</FONT><FONT color="#0000BB">0</FONT><FONT color="#007700">,</FONT><FONT
color="#DD0000">&quot;Project&quot;</FONT><FONT color="#007700">,</FONT><FONT color="#DD0000">
&quot;2001-12-21&quot;</FONT><FONT color="#007700">,</FONT><FONT color="#DD0000">
&quot;2002-02-20&quot;</FONT><FONT color="#007700">);
<BR /></FONT><FONT color="#0000BB">$graph</FONT><FONT color="#007700">-&gt;</FONT><FONT
color="#0000BB">Add</FONT><FONT color="#007700">(</FONT><FONT color="#0000BB">
$activity</FONT><FONT color="#007700">);
<BR />
<BR /></FONT><FONT color="#000000">// Display the Gantt chart
<BR /></FONT><FONT color="#0000BB">$graph</FONT><FONT color="#007700">-&gt;</FONT><FONT
color="#0000BB">Stroke</FONT><FONT color="#007700">();
<BR /></FONT><FONT color="#0000BB">?&gt;
<BR /></FONT></FONT></CODE></DIV> The resulting image is shown in Figure
<!--?echo FigNbr(); ?-->

 below.</P>
<P><DIV align="center">
<BR><A href="exframes/frame_ganttex00.html"> <IMG border="0" HEIGHT="121"
 src="img/ganttex00.png" WIDTH="897"></A>
<BR><SMALL><EM><B>Figure 1:</B> Your first simple Gantt chart.<A href="exframes/frame_ganttex00.html">
 [src]</A></EM></SMALL></DIV></P>
<P> Let's note a few things with the above image and code:</P>
<UL>
<LI> You always need to include both jpgraph.php and jpgraph_gantt.php</LI>
<LI> A bar is specified a minimum of four parameters, vertical position
 (more about that in a second), a title, start and end date.</LI>
<LI> If you don't specify a size for the image it will be automatically
 decided based on the min and max dates for the bars rounded to a full
 week.</LI>
<LI> By default the week and day scale are displayed.</LI>
<LI> Weekend background are displayed default in a slightly gray color</LI>
<LI> Sundays are written in red.</LI>
<LI> Weeks are numbered according to ISO 8601</LI>
<LI> Activity bars are rendered as blue stripes on a white background by
 default.</LI>
</UL>
 So, lets start making this graph a little bit more interesting. First
 we are going to add a title, then we will add a month scale and finally
 we will change the color of the bar.
<P> All that is taken care of in the code below.<DIV style="background-color:#E6E6E6;font-family:courier new;font-size:80%;font-weight:bold;">
(File: ganttex01.php)
<BR><CODE><FONT color="#000000"><FONT color="#0000BB"> &lt;?php
<BR /></FONT><FONT color="#007700">include (</FONT><FONT color="#DD0000">
&quot;../jpgraph.php&quot;</FONT><FONT color="#007700">);
<BR />include (</FONT><FONT color="#DD0000">&quot;../jpgraph_gantt.php&quot;</FONT><FONT
color="#007700">);
<BR />
<BR /></FONT><FONT color="#0000BB">$graph</FONT><FONT color="#007700"> =
 new</FONT><FONT color="#0000BB"> GanttGraph</FONT><FONT color="#007700">
(</FONT><FONT color="#0000BB">0</FONT><FONT color="#007700">,</FONT><FONT
color="#0000BB">0</FONT><FONT color="#007700">,</FONT><FONT color="#DD0000">
&quot;auto&quot;</FONT><FONT color="#007700">);
<BR /></FONT><FONT color="#0000BB">$graph</FONT><FONT color="#007700">-&gt;</FONT><FONT
color="#0000BB">SetShadow</FONT><FONT color="#007700">();
<BR />
<BR /></FONT><FONT color="#000000">// Add title and subtitle
<BR /></FONT><FONT color="#0000BB">$graph</FONT><FONT color="#007700">-&gt;</FONT><FONT
color="#0000BB">title</FONT><FONT color="#007700">-&gt;</FONT><FONT color="#0000BB">
Set</FONT><FONT color="#007700">(</FONT><FONT color="#DD0000">&quot;A nice
 main title&quot;</FONT><FONT color="#007700">);
<BR /></FONT><FONT color="#0000BB">$graph</FONT><FONT color="#007700">-&gt;</FONT><FONT
color="#0000BB">title</FONT><FONT color="#007700">-&gt;</FONT><FONT color="#0000BB">
SetFont</FONT><FONT color="#007700">(</FONT><FONT color="#0000BB">
FF_ARIAL</FONT><FONT color="#007700">,</FONT><FONT color="#0000BB">
FS_BOLD</FONT><FONT color="#007700">,</FONT><FONT color="#0000BB">12</FONT><FONT
color="#007700">);
<BR /></FONT><FONT color="#0000BB">$graph</FONT><FONT color="#007700">-&gt;</FONT><FONT
color="#0000BB">subtitle</FONT><FONT color="#007700">-&gt;</FONT><FONT color="#0000BB">
Set</FONT><FONT color="#007700">(</FONT><FONT color="#DD0000">&quot;(Draft
 version)&quot;</FONT><FONT color="#007700">);
<BR />
<BR /></FONT><FONT color="#000000">// Show day, week and month scale
<BR /></FONT><FONT color="#0000BB">$graph</FONT><FONT color="#007700">-&gt;</FONT><FONT
color="#0000BB">ShowHeaders</FONT><FONT color="#007700">(</FONT><FONT color="#0000BB">
GANTT_HDAY</FONT><FONT color="#007700"> |</FONT><FONT color="#0000BB">
 GANTT_HWEEK</FONT><FONT color="#007700"> |</FONT><FONT color="#0000BB">
 GANTT_HMONTH</FONT><FONT color="#007700">);
<BR />
<BR /></FONT><FONT color="#000000">// Instead of week number show the
 date for the first day in the week
<BR />// on the week scale
<BR /></FONT><FONT color="#0000BB">$graph</FONT><FONT color="#007700">-&gt;</FONT><FONT
color="#0000BB">scale</FONT><FONT color="#007700">-&gt;</FONT><FONT color="#0000BB">
week</FONT><FONT color="#007700">-&gt;</FONT><FONT color="#0000BB">SetStyle</FONT><FONT
color="#007700">(</FONT><FONT color="#0000BB">WEEKSTYLE_FIRSTDAY</FONT><FONT
color="#007700">);
<BR />
<BR /></FONT><FONT color="#000000">// Make the week scale font smaller
 than the default
<BR /></FONT><FONT color="#0000BB">$graph</FONT><FONT color="#007700">-&gt;</FONT><FONT
color="#0000BB">scale</FONT><FONT color="#007700">-&gt;</FONT><FONT color="#0000BB">
week</FONT><FONT color="#007700">-&gt;</FONT><FONT color="#0000BB">SetFont</FONT><FONT
color="#007700">(</FONT><FONT color="#0000BB">FF_FONT0</FONT><FONT color="#007700">
);
<BR />
<BR /></FONT><FONT color="#000000">// Use the short name of the month
 together with a 2 digit year
<BR />// on the month scale
<BR /></FONT><FONT color="#0000BB">$graph</FONT><FONT color="#007700">-&gt;</FONT><FONT
color="#0000BB">scale</FONT><FONT color="#007700">-&gt;</FONT><FONT color="#0000BB">
month</FONT><FONT color="#007700">-&gt;</FONT><FONT color="#0000BB">
SetStyle</FONT><FONT color="#007700">(</FONT><FONT color="#0000BB">
MONTHSTYLE_SHORTNAMEYEAR2</FONT><FONT color="#007700">);
<BR />
<BR /></FONT><FONT color="#000000">// Format the bar for the first
 activity
<BR />// ($row,$title,$startdate,$enddate)
<BR /></FONT><FONT color="#0000BB">$activity</FONT><FONT color="#007700">
 = new</FONT><FONT color="#0000BB"> GanttBar</FONT><FONT color="#007700">
(</FONT><FONT color="#0000BB">0</FONT><FONT color="#007700">,</FONT><FONT
color="#DD0000">&quot;Project&quot;</FONT><FONT color="#007700">,</FONT><FONT color="#DD0000">
&quot;2001-12-21&quot;</FONT><FONT color="#007700">,</FONT><FONT color="#DD0000">
&quot;2002-02-20&quot;</FONT><FONT color="#007700">);
<BR />
<BR /></FONT><FONT color="#000000">// Yellow diagonal line pattern on a
 red background
<BR /></FONT><FONT color="#0000BB">$activity</FONT><FONT color="#007700">
-&gt;</FONT><FONT color="#0000BB">SetPattern</FONT><FONT color="#007700">(</FONT><FONT
color="#0000BB">BAND_RDIAG</FONT><FONT color="#007700">,</FONT><FONT color="#DD0000">
&quot;yellow&quot;</FONT><FONT color="#007700">);
<BR /></FONT><FONT color="#0000BB">$activity</FONT><FONT color="#007700">
-&gt;</FONT><FONT color="#0000BB">SetFillColor</FONT><FONT color="#007700">
(</FONT><FONT color="#DD0000">&quot;red&quot;</FONT><FONT color="#007700">);
<BR />
<BR /></FONT><FONT color="#000000">// Finally add the bar to the graph
<BR /></FONT><FONT color="#0000BB">$graph</FONT><FONT color="#007700">-&gt;</FONT><FONT
color="#0000BB">Add</FONT><FONT color="#007700">(</FONT><FONT color="#0000BB">
$activity</FONT><FONT color="#007700">);
<BR />
<BR /></FONT><FONT color="#000000">// ... and display it
<BR /></FONT><FONT color="#0000BB">$graph</FONT><FONT color="#007700">-&gt;</FONT><FONT
color="#0000BB">Stroke</FONT><FONT color="#007700">();
<BR /></FONT><FONT color="#0000BB">?&gt;
<BR /></FONT></FONT></CODE></DIV> The resulting image is shown in Figure
 2 below.</P>
<P><DIV align="center">
<BR><A href="exframes/frame_ganttex01.html"> <IMG border="0" HEIGHT="160"
 src="img/ganttex01.png" WIDTH="897"></A>
<BR><SMALL><EM><B>Figure 2:</B> Making the Gantt chart a little bit more
 interesting with title and more colors.<A href="exframes/frame_ganttex01.html">
 [src]</A></EM></SMALL></DIV></P>
<P> From the above example you might note a few things</P>
<UL>
<LI> The margins adjust automatically to the added title and subtitle</LI>
<LI> The height of the scale headers adjust automatically when you
 change the font.</LI>
<LI> You have great flexibility in choosing what format the scale labels
 will have. If you for example wanted the full 4 digit year in the month
 header all you have to change is use the constant
 MONTHSTYLE_SHORTNAMEYEAR2 in the code above to
 MONTHSTYLE_SHORTNAMEYEAR4</LI>
<LI> You have full freedom of manipulating headers in terms of font,
 color, background and size.</LI>
</UL>
 To show that this is really simple let's show the full year in the
 month, and set the header style to be white text on a dark blue
 background by adding the lines
<BR> &nbsp;
<BR><DIV style="background-color:#E6E6E6;font-family:courier new;font-size:85%;font-weight:bold;">
<B><CODE><FONT color="#000000"> // Use the short name of the month
 together with a 4 digit year
<BR />// on the month scale
<BR />$graph-&gt;scale-&gt;month-&gt;SetStyle(MONTHSTYLE_SHORTNAMEYEAR4);
<BR />$graph-&gt;scale-&gt;month-&gt;SetTextColor(&quot;white&quot;);
<BR />$graph-&gt;scale-&gt;month-&gt;SetBackgroundColor(&quot;blue&quot;);</FONT></CODE></B>
</DIV>
<P> to the code above. The resulting image is shown in Figure 3</P>
<P><DIV align="center">
<BR><A href="exframes/frame_ganttex02.html"> <IMG border="0" HEIGHT="120"
 src="img/ganttex02.png" WIDTH="407"></A>
<BR><SMALL><EM><B>Figure 3:</B> Enhancing the scale headers.<A href="exframes/frame_ganttex02.html">
 [src]</A></EM></SMALL></DIV></P>
<P></P>
<H2><A NAME="9_5">9.5  The structure of a Gantt chart</A></H2>
 A Gantt chart is made up of four distinct areas.
<OL>
<LI>On the left side there is the activity title column.</LI>
<LI>On the top there is the scale headers (up to four headers may be
 displayed)</LI>
<LI>The actual plot area where all the Gantt bars and markers go</LI>
<LI>The margin area, where for example the titles are shown</LI>
</OL>
 Since a Gantt chart inherits all the usual properties of a JpGraph
 Graph() you have the access to the same method to formatting the image
 as before. For example to have a shadow around the image you call
 Graph::SetShadow() and to set the margin color you can use
 Graph::SetMarginColor(). Please refer to the reference documentation
 for a full list of supported features.
<P> To create a Gantt chart you<STRONG> add</STRONG> objects to it. As
 of this writing you may add the following object by the use of the
 GanttChart::Add() method</P>
<UL>
<LI> Gantt bars (indicates the length of an activity)</LI>
<LI> Milestones, a single mark at a specific date</LI>
<LI> Vertical line, might be use to mark phases in projects</LI>
</UL>
 All these objects may be extensively modified in terms of formatting.
 You can specify color (both fill- and frame color), size, titles, style
 and patterns and so on. All these objects comes with (in my mind)
 sensible default so you don't have to specify a lot of parameters. But
 if you need a fine grain control or if you disagree with my taste you<STRONG>
 can</STRONG>.
<H2><A NAME="9_6">9.6 Creating a GanttChart</A></H2>
 You create a new Gantt Chart with a call to GanttChart(). The signature
 for GanttGraph is the same as for ordinary JpGraph graphs, i.e
<BR> &nbsp;
<BR><DIV style="background-color:#E6E6E6;font-family:courier new;font-size:85%;font-weight:bold;">
<B><CODE><FONT color="#000000"> function
 GanttGraph($aWidth,$aHeight,$aCachedName,$aTimeOut,$aInline)</FONT></CODE>
</B></DIV>
<P> The only real difference is that for GanttCharts you can specify one
 or both of the dimension parameters (width and height) as -1 in which
 case that dimension will be automatically sized determined by scale and
 fonts chosen. The following examples shows some possible ways of
 creating a new graph</P>
<UL>
<LI> $graph=new GanttGraph()
<BR> The size of the graph will be determined automatically, no caching
 will be used and the graph will be generated inline.</LI>
<LI> $graph=new GanttGraph(-1,-1,&quot;auto&quot;)
<BR> The size of the graph will be determined automatically, caching
 will be used (the name will be based on the script name), no timeout
 will be used and the graph will be generated inline</LI>
<LI> $graph=new GanttGraph(450,-1,&quot;auto&quot;,5)
<BR> Same as the previous entry but the width is fixed to 450 points and
 the cached image will have a timeout of 5 min.</LI>
<LI> $graph=new GanttGraph(-1,-1,&quot;auto&quot;,5,false)
<BR> The image will not be generated inline, only the cache will be
 updated if it has timed out, otherwise nothing will happen.</LI>
</UL>
 Since GanttGraph() inherits all the methods (that make sense for
 GanttGraph) from Graph you can specify shadow, color etc of the general
 frame.
<H2><A NAME="9_7">9.7 Positioning objects in the Gantt plot</A></H2>
 Bars and Milestones need both a vertical position and a horizontal
 position. The horizontal start position is specified as a date, e.g.
 &quot;2001-06-23&quot;, and the vertical positions are specified as a number
 [0,1,2,3,...]. This vertical number indicates the position from the top
 where the object should be placed. To understand this you might imagine
 a number of &quot;invisible&quot; horizontal bands with a certain height. If you
 specify 0 as the vertical position the bar will be placed in the first
 band, specify 3 and the bar will be placed in the fourth band and so
 on.
<P> It is perfectly legal, and perhaps even desirable to leave &quot;gaps&quot;
 when laying out bands to group related activities. So, for example you
 could have three activities/bars at positions 1,2,3 and then another 2
 bars at position 6,7 leaving band 0,4,5 empty.</P>
<P> All these &quot;invisible bands&quot; have the same height (equspaced). The
 height of each band is automatically determined and depends on both the
 method of layout ( as specified by (GanttChart::SetLayout()) and the
 individual heights of the individual bars and titles. The rules are
 quite simple:</P>
<UL>
<LI> If you use layout=GANTT_FROMTOP (the default and most common) the
 height will equal the height (+ a margin) of the highest gantt bar. The
 height calculation of each bar takes into account both the actual bar,
 the title, and any left- right-marks (more about that later) that may
 be present. The name &quot;fromtop&quot; refers to that when you have explicitly
 specified a height the bars will usually be added from band 0 and
 onwards and hence being added from the top. (This might leave empty
 space at the bottom of the plot area in the graph if the height of the
 graph has been explicitly specified).</LI>
<LI> If you use layout=GANTT_EVEN the bars are evenly (hence the name)
 spread out over the available height in the gantt chart and no
 consideration is taken of the individual bars heights. Note that if you
 use automatic sizing you cant use even layout. It just doesn't make
 sense. Even layout is for those cases when you deliberately specify a
 very large image and want the bars evenly distributed using the full
 height.</LI>
</UL>
<H2><A NAME="9_8">9.8 Gantt bars</A></H2>
 The most common of all object in a Gantt chart is of course the
 activity bar (GanttBar()). In terms of formatting this object has a
 very large flexibility. The full signature for the GanttBar constructor
 is
<BR> &nbsp;
<BR><DIV style="background-color:#E6E6E6;font-family:courier new;font-size:85%;font-weight:bold;">
<B><CODE><FONT color="#000000"> function
 GanttBar($aVPos,$aTitle,$aStart,$aEnd,$aCaption,$aHeight)</FONT></CODE></B>
</DIV>
<P></P>
<TABLE border="0">
<TR><TD valign="top">
<!--span style="font-family:times;font-size:85%;font-weight:bold;"-->
<CODE><FONT color="#000000"><FONT color="#0000BB">
 &lt;?php $aVPos</FONT></FONT></CODE></TD><TD valign="top">&nbsp;</TD><TD>The
 vertical position for the bar, [0..n]</TD></TR>
<TR><TD valign="top">
<!--span style="font-family:times;font-size:85%;font-weight:bold;"-->
<CODE><FONT color="#000000"><FONT color="#0000BB">
 &lt;?php $aTitle</FONT></FONT></CODE></TD><TD valign="top">&nbsp;</TD><TD>Title
 for the activity</TD></TR>
<TR><TD valign="top">
<!--span style="font-family:times;font-size:85%;font-weight:bold;"-->
<CODE><FONT color="#000000"><FONT color="#0000BB">
 &lt;?php $aStart</FONT></FONT></CODE></TD><TD valign="top">&nbsp;</TD><TD>Start
 date for the activity given as string, e.g &quot;2001-09-22&quot;</TD></TR>
<TR><TD valign="top">
<!--span style="font-family:times;font-size:85%;font-weight:bold;"-->
<CODE><FONT color="#000000"><FONT color="#0000BB">
 &lt;?php $aEnd</FONT></FONT></CODE></TD><TD valign="top">&nbsp;</TD><TD>End
 date for activity given as<B> either</B> a date (a string) or as the
 duration (in days) of the activity, e.g both &quot;2001-10-15&quot; and 20.5 are
 valid inputs</TD></TR>
<TR><TD valign="top">
<!--span style="font-family:times;font-size:85%;font-weight:bold;"-->
<CODE><FONT color="#000000"><FONT color="#0000BB">
 &lt;?php $aCaption</FONT></FONT></CODE></TD><TD valign="top">&nbsp;</TD><TD>
Text string (caption) to appear at the end (right side) of the bar</TD></TR>
<TR><TD valign="top">
<!--span style="font-family:times;font-size:85%;font-weight:bold;"-->
<CODE><FONT color="#000000"><FONT color="#0000BB">
 &lt;?php $aHeight</FONT></FONT></CODE></TD><TD valign="top">&nbsp;</TD><TD>
Height of bar given as<B> either</B> a value in range [0,1] in which
 case this is interpretated as what fraction of the vertical position
 should the bar occupy. The height can also be given in absolute pixels
 [1..200]</TD></TR>
</TABLE>
<H3><A NAME="9_8_1">9.8.1 Specifying vertical position</A></H3>
 As described above vertical positions are specified as a numeric value
 [0..n] where 'n' is an arbitrary constant. (For practical purposes n is
 most likely &lt; 100)
<P> Using our previous example we will illustrate this parameter by
 changing the position of our 'Project' activity to position 7. Therefor
 we change the call to GanttBar() to
<BR> &nbsp;
<BR><DIV style="background-color:#E6E6E6;font-family:courier new;font-size:85%;font-weight:bold;">
<B><CODE><FONT color="#000000"> $activity = new
 GanttBar(7,&quot;Project&quot;,&quot;2001-12-21&quot;,&quot;2002-02-20&quot;);</FONT></CODE></B></DIV>
</P>
<P> and we then get the chart as shown below in Figure 4.</P>
<P></P>
<P><DIV align="center">
<BR><A href="exframes/frame_ganttex03.html"> <IMG border="0" HEIGHT="288"
 src="img/ganttex03.png" WIDTH="897"></A>
<BR><SMALL><EM><B>Figure 4:</B> Changing the vertical position to 7<A href="exframes/frame_ganttex03.html">
 [src]</A></EM></SMALL></DIV></P>
<P> Note that the height of each position (vertical position) will
 depend on the actual height of the bar.</P>
<H3><A NAME="9_8_2">9.8.2 Specifying start and end position for a bar</A>
</H3>
 Start of bars are given as a date string. The format depends on the
 current locale. Examples of valid date strings are
<UL>
<LI> &quot;2001-10-22&quot;</LI>
<LI> &quot;22 October 2001&quot;</LI>
<LI> &quot;22 Oct 2001&quot;</LI>
</UL>
 Even if several format are supported it is recommended to use all
 numeric dates, i.e in the form &quot;2001-10-22&quot;.
<P> Specifying the end position may be done in two different ways,
 either by the end date in the same way as for the start date. The other
 way is to specify the<B> length</B> of the activity in number of days
 (and fractions thereof). Examples of valid end dates are:</P>
<UL>
<LI> &quot;2001-11-15&quot;</LI>
<LI> &quot;15 Nov 2001&quot;</LI>
<LI> 22, (specifies duration of 22 days)</LI>
<LI> 22.7, (specifies duration of 22.7 days)</LI>
</UL>
<B> Note:</B> Duration is specified as numerical values and<B> not</B>
 strings.
<H3><A NAME="9_8_3">9.8.3 Milestones</A></H3>
 Milestones are similar to bars but have no end date since milestones
 just apply to one single date. Milestones are created much the same way
 as activities but using method MileStone() instead.
<P> The full signature for milestones are
<BR> &nbsp;
<BR><DIV style="background-color:#E6E6E6;font-family:courier new;font-size:85%;font-weight:bold;">
<B><CODE><FONT color="#000000"> function
 MileStone($aVPos,$aTitle,$aDate,$aCaption)</FONT></CODE></B></DIV></P>
<P></P>
<TABLE border="0">
<TR><TD valign="top">
<!--span style="font-family:times;font-size:85%;font-weight:bold;"-->
<CODE><FONT color="#000000"><FONT color="#0000BB">
 &lt;?php $aVPos</FONT></FONT></CODE></TD><TD valign="top">&nbsp;</TD><TD>The
 vertical position for the bar, [0..n]</TD></TR>
<TR><TD valign="top">
<!--span style="font-family:times;font-size:85%;font-weight:bold;"-->
<CODE><FONT color="#000000"><FONT color="#0000BB">
 &lt;?php $aTitle</FONT></FONT></CODE></TD><TD valign="top">&nbsp;</TD><TD>Title
 for the activity</TD></TR>
<TR><TD valign="top">
<!--span style="font-family:times;font-size:85%;font-weight:bold;"-->
<CODE><FONT color="#000000"><FONT color="#0000BB">
 &lt;?php $aDate</FONT></FONT></CODE></TD><TD valign="top">&nbsp;</TD><TD>Date
 for the milestone</TD></TR>
<TR><TD valign="top">
<!--span style="font-family:times;font-size:85%;font-weight:bold;"-->
<CODE><FONT color="#000000"><FONT color="#0000BB">
 &lt;?php $aCaption</FONT></FONT></CODE></TD><TD valign="top">&nbsp;</TD><TD>
Text to the right of the milestone</TD></TR>
</TABLE>
Valid milestones are for example
<UL>
<LI>
<BR> &nbsp;
<BR><DIV style="font-family:courier;font-size:85%;font-weight:bold;"><CODE>
<FONT color="#000000"> $milestone = new MileStone(3,&quot;Code
 complete&quot;,&quot;2001-12-01&quot;);</FONT></CODE></DIV>
<P></P>
</LI>
<LI>
<BR> &nbsp;
<BR><DIV style="font-family:courier;font-size:85%;font-weight:bold;"><CODE>
<FONT color="#000000"> $milestone = new MileStone(3,&quot;Code
 complete&quot;,&quot;2001-12-01&quot;,&quot;(2001-12-01)&quot;);</FONT></CODE></DIV>
<P></P>
</LI>
</UL>
 By default milestones are rendered as a filled &quot;Diamond&quot; shape. This
 may be optionally modified. The actual shape is specified by the 'mark'
 property of milestone which is an instance of the PlotMark() class
 (same class responsible for the marks in line graphs).
<P> To change the shape of a milestone to, say a triangle, you use the
 SetType() method as in
<BR> &nbsp;
<BR><DIV style="background-color:#E6E6E6;font-family:courier new;font-size:85%;font-weight:bold;">
<B><CODE><FONT color="#000000">
 $milestone-&gt;mark-&gt;SetType(MARK_DTRIANGLE)</FONT></CODE></B></DIV></P>
<P> Let's put this into practice and add a milestone to our previous
 example by adding the following two lines of code which result in
 Figure 5 shown below.</P>
<P><DIV align="center">
<BR><A href="exframes/frame_ganttex04.html"> <IMG border="0" HEIGHT="197"
 src="img/ganttex04.png" WIDTH="904"></A>
<BR><SMALL><EM><B>Figure 5:</B> Illustration of how to add a milestone
 to a gantt chart<A href="exframes/frame_ganttex04.html"> [src]</A></EM></SMALL>
</DIV></P>
<P></P>
<P> You may note that by default the title color is red for milestones.
 If you like to change this to be instead, say bold black, you would
 invoke the SetColor() and SetFont() methods on the title property of
 milestones as in
<BR> &nbsp;
<BR><DIV style="background-color:#E6E6E6;font-family:courier new;font-size:85%;font-weight:bold;">
<B><CODE><FONT color="#000000">
 $milestone-&gt;title-&gt;SetFont(FF_FONT1,FF_BOLD);
<BR />$milestone-&gt;title-&gt;SetColor(&quot;black&quot;);</FONT></CODE></B></DIV></P>
<P> and thew result would now (not surprisingly be)</P>
<P><DIV align="center">
<BR><A href="exframes/frame_ganttex05.html"> <IMG border="0" HEIGHT="197"
 src="img/ganttex05.png" WIDTH="913"></A>
<BR><SMALL><EM><B>Figure 6:</B> Modifying the milestone title color and
 font<A href="exframes/frame_ganttex05.html"> [src]</A></EM></SMALL></DIV>
</P>
<P> To modify the caption you do exactly the same but act on property
 'caption' instead of 'title', i.e.
<BR> &nbsp;
<BR><DIV style="background-color:#E6E6E6;font-family:courier new;font-size:85%;font-weight:bold;">
<B><CODE><FONT color="#000000">
 $milestone-&gt;caption-&gt;SetFont(FF_FONT1,FF_BOLD);
<BR />$milestone-&gt;caption-&gt;SetColor(&quot;black&quot;);</FONT></CODE></B></DIV></P>
<P></P>
<P> It is worth noting that you modify the bar title and caption the
 exact same way by acting on the 'title' and 'caption' property for the
 bars.</P>
<H3><A NAME="9_8_4">9.8.4 Vertical line</A></H3>
 The final object you may add to a Gantt chart is simple, but quite
 useful, a straight vertical line extending over the whole plot height.
 This could for example be used to illustrate different phases in a
 project. You create a line object by a call to GanttVLine()
<P> The full signature for GanttVLine() is
<BR> &nbsp;
<BR><DIV style="background-color:#E6E6E6;font-family:courier new;font-size:85%;font-weight:bold;">
<B><CODE><FONT color="#000000"> function
 GanttVLine($aDate,$aTitle,$aColor,$aWeight,$aStyle)</FONT></CODE></B></DIV>
</P>
<P></P>
<TABLE border="0">
<TR><TD valign="top">
<!--span style="font-family:times;font-size:85%;font-weight:bold;"-->
<CODE><FONT color="#000000"><FONT color="#0000BB">
 &lt;?php $aDate</FONT></FONT></CODE></TD><TD valign="top">&nbsp;</TD><TD>Date
 for the milestone</TD></TR>
<TR><TD valign="top">
<!--span style="font-family:times;font-size:85%;font-weight:bold;"-->
<CODE><FONT color="#000000"><FONT color="#0000BB">
 &lt;?php $aTitle</FONT></FONT></CODE></TD><TD valign="top">&nbsp;</TD><TD>Title
 for the line. The title is displayed at the bottom of the line</TD></TR>
<TR><TD valign="top">
<!--span style="font-family:times;font-size:85%;font-weight:bold;"-->
<CODE><FONT color="#000000"><FONT color="#0000BB">
 &lt;?php $aColor</FONT></FONT></CODE></TD><TD valign="top">&nbsp;</TD><TD>Color
 for the line</TD></TR>
<TR><TD valign="top">
<!--span style="font-family:times;font-size:85%;font-weight:bold;"-->
<CODE><FONT color="#000000"><FONT color="#0000BB">
 &lt;?php $aWeight</FONT></FONT></CODE></TD><TD valign="top">&nbsp;</TD><TD>Line
 width</TD></TR>
<TR><TD valign="top">
<!--span style="font-family:times;font-size:85%;font-weight:bold;"-->
<CODE><FONT color="#000000"><FONT color="#0000BB">
 &lt;?php $aStyle</FONT></FONT></CODE></TD><TD valign="top">&nbsp;</TD><TD>Line
 style,&quot;dashed&quot;, &quot;dotted&quot; and so on</TD></TR>
</TABLE>
Valid creations of lines are for example
<UL>
<LI>
<BR> &nbsp;
<BR><DIV style="font-family:courier;font-size:85%;font-weight:bold;"><CODE>
<FONT color="#000000"> $vline = new GanttVLine(&quot;2001-12-24&quot;);</FONT></CODE>
</DIV>
<P></P>
</LI>
<LI>
<BR> &nbsp;
<BR><DIV style="font-family:courier;font-size:85%;font-weight:bold;"><CODE>
<FONT color="#000000"> $vline = new GanttVLine(&quot;2001-12-24&quot;,&quot;Phase 1&quot;);</FONT>
</CODE></DIV>
<P></P>
</LI>
<LI>
<BR> &nbsp;
<BR><DIV style="font-family:courier;font-size:85%;font-weight:bold;"><CODE>
<FONT color="#000000"> $vline = new GanttVLine(&quot;2001-12-24&quot;,&quot;Phase
 1&quot;,&quot;darkred&quot;);</FONT></CODE></DIV>
<P></P>
</LI>
<LI>
<BR> &nbsp;
<BR><DIV style="font-family:courier;font-size:85%;font-weight:bold;"><CODE>
<FONT color="#000000"> $vline = new GanttVLine(&quot;2001-12-24&quot;,&quot;Phase
 1&quot;,&quot;darkred&quot;,5);</FONT></CODE></DIV>
<P></P>
</LI>
<LI>
<BR> &nbsp;
<BR><DIV style="font-family:courier;font-size:85%;font-weight:bold;"><CODE>
<FONT color="#000000"> $vline = new GanttVLine(&quot;2001-12-24&quot;,&quot;Phase
 1&quot;,&quot;darkred&quot;,5,&quot;dotted&quot;);</FONT></CODE></DIV>
<P></P>
</LI>
</UL>
 To add the line to the graph you just have to call GanttGraph::Add() as
 with milestones and bars. Let's illustrate the use of vertical lines by
 adding a line to the previous example.
<BR> &nbsp;
<BR><DIV style="background-color:#E6E6E6;font-family:courier new;font-size:85%;font-weight:bold;">
<B><CODE><FONT color="#000000"> $vline = new
 GanttVLine(&quot;2001-12-24&quot;,&quot;Phase 1&quot;);
<BR />$graph-&gt;Add($vline);
<BR /></FONT></CODE></B></DIV>
<P> and the example (See 7) now becomes</P>
<P><DIV align="center">
<BR><A href="exframes/frame_ganttex06.html"> <IMG border="0" HEIGHT="197"
 src="img/ganttex06.png" WIDTH="913"></A>
<BR><SMALL><EM><B>Figure 7:</B> Adding a vertical line with a title to
 the Gantt chart<A href="exframes/frame_ganttex06.html"> [src]</A></EM></SMALL>
</DIV></P>
<P> From the above figure you can see that by default the line is drawn
 at the beginning of the day of the specified date and in a 'dashed'
 style. This can (of course!) be modified so that the line is
 drawn/aligned anywhere in the specified day. You modify this by
 invoking the method SetDayOffset() with an argument specifying the
 fraction of the day where you want the line positioned.</P>
<P> If you, for example, want to display the line in the middle of the
 day just add the line
<BR> &nbsp;
<BR><DIV style="background-color:#E6E6E6;font-family:courier new;font-size:85%;font-weight:bold;">
<B><CODE><FONT color="#000000"> $vline-&gt;SetDayOffset(0.5);</FONT></CODE></B>
</DIV></P>
<P> to the previous code and the result will be</P>
<P><DIV align="center">
<BR><A href="exframes/frame_ganttex07.html"> <IMG border="0" HEIGHT="197"
 src="img/ganttex07.png" WIDTH="913"></A>
<BR><SMALL><EM><B>Figure 8:</B> Modifying the position of the line
 within the day<A href="exframes/frame_ganttex07.html"> [src]</A></EM></SMALL>
</DIV></P>
<P></P>
<P> As usual you may modify the font, size and color by invoking the
 appropriate method (SetFont(), SetColor()) on the 'title' property of
 lines.</P>
<H3><A NAME="9_8_5">9.8.5 Adding markers to a gantt bar</A></H3>
 You can easily add a variety of markers both to the start and end of
 the gantt bar. They could for example be used as an alternate way to
 illustrate important milestones or anticipated deliveries.
<P> The left and right markers are accessed through the two properties
 'leftMark' and 'rightMark'. They are both instances of the general
 'PlotMark' class which is also used for the milestones (and in line
 graphs). The 'PlotMark' class supports several different styles, for
 example, diamond (the default for milestones), filled and unfilled
 circles, squares, stares, and so on. Please refer to the reference
 section for a complete listing.</P>
<P> Let's illustrate this by adding a right marker to the previous
 example. We will use a style of a filled (red) circle with a white
 title, say, &quot;M5&quot;. In order to accomplish this we must augment the
 previous example with the following lines:
<BR> &nbsp;
<BR><DIV style="background-color:#E6E6E6;font-family:courier new;font-size:85%;font-weight:bold;">
<B><CODE><FONT color="#000000"> $activity-&gt;rightMark-&gt;Show();&nbsp;&nbsp;&nbsp;&nbsp;
<BR />$activity-&gt;rightMark-&gt;title-&gt;Set(&quot;M5&quot;);
<BR />$activity-&gt;rightMark-&gt;SetType(MARK_FILLEDCIRCLE);
<BR />$activity-&gt;rightMark-&gt;SetWidth(10);
<BR />$activity-&gt;rightMark-&gt;SetColor(&quot;red&quot;);
<BR />$activity-&gt;rightMark-&gt;SetFillColor(&quot;red&quot;);
<BR />$activity-&gt;rightMark-&gt;title-&gt;SetFont(FF_ARIAL,FS_BOLD,12);
<BR />$activity-&gt;rightMark-&gt;title-&gt;SetColor(&quot;white&quot;);</FONT></CODE></B></DIV>
</P>
<P> This might seem like a lot of lines but this is as complicated as it
 possible can get. As an illustration I have changed more or less
 everything that is changeable. I changed the default font, font-color,
 fill-color, frame-color and width of marker. The two lines only really
 necessary are the first two, showing the mark and setting a title. You
 could get away with using default values for the rest of the
 properties.</P>
<P> The resulting image can be seen in Figure 9 below.</P>
<P><DIV align="center">
<BR><A href="exframes/frame_ganttex08.html"> <IMG border="0" HEIGHT="251"
 src="img/ganttex08.png" WIDTH="913"></A>
<BR><SMALL><EM><B>Figure 9:</B> Adding a right marker to a bar.<A href="exframes/frame_ganttex08.html">
 [src]</A></EM></SMALL></DIV></P>
<P> I have deliberately introduced a &quot;strangeness&quot; here. If you compare
 the two previous examples you can see that the last example is larger
 than the previous one. Why?</P>
<P> The explanation is simple if you remember that the height of bars
 are sized relative to the horizontal spacing. The horizontal spacing
 are based on the highest single bar including title size and, here come
 the explanation, marker size. The horizontal spacing has grown since
 the minimum height is now based on 10 points(=the height of the mark).
 The bar still occupy the same percentage of the height so it seems to
 have grown.</P>
<P> If this behavior is unwanted it is always possible to specify an
 absolute size for the bar heigh, say 8 pixels, with a call
<BR> &nbsp;
<BR><DIV style="background-color:#E6E6E6;font-family:courier new;font-size:85%;font-weight:bold;">
<B><CODE><FONT color="#000000"> $activity-&gt;SetHeight(8);</FONT></CODE></B>
</DIV></P>
<P> and achieve the result in Figure 10 below.</P>
<P><DIV align="center">
<BR><A href="exframes/frame_ganttex09.html"> <IMG border="0" HEIGHT="251"
 src="img/ganttex09.png" WIDTH="913"></A>
<BR><SMALL><EM><B>Figure 10:</B> Specifying an absolute size for the
 height of the bar.<A href="exframes/frame_ganttex09.html"> [src]</A></EM>
</SMALL></DIV></P>
<P> It is worth noting that the height reserved for each bar is still
 the same since we haven't changed the height of the marker and the
 reserved space is the maximum height used by any bar.</P>
<H3><A NAME="9_8_6">9.8.6 Adjusting the minimum distance between bars</A>
</H3>
 Let's see what happens if we set the height of each bar to be 100% of
 the reserved height by adding another activity/bar below the first one
 and set the height of each bar to 100% by adding the lines (I omit the
 added lines to add another bar since they are just a copy of the first
 bar)
<BR> &nbsp;
<BR><DIV style="background-color:#E6E6E6;font-family:courier new;font-size:85%;font-weight:bold;">
<B><CODE><FONT color="#000000"> $activity-&gt;SetHeight(1.0);
<BR />$activity2-&gt;SetHeight(1.0);</FONT></CODE></B></DIV>
<P> to the previous example. (Note that a value in the range [0..1] is
 interpretated as the fraction of the reserved height while a value &gt; 1
 is interpretated as the absolute size in pixels.)</P>
<P><DIV align="center">
<BR><A href="exframes/frame_ganttex10.html"> <IMG border="0" HEIGHT="251"
 src="img/ganttex10.png" WIDTH="913"></A>
<BR><SMALL><EM><B>Figure 11:</B> Setting the height for each bar to 100%<A
href="exframes/frame_ganttex10.html"> [src]</A></EM></SMALL></DIV></P>
<P> Aha.. What we are trying to do doesn't really make sense. Since we
 have specified that the bar will always occupy 100% of the available
 reserved with there will be no distance between the bars. So what if we
 specify the bar as 10 pixel absolute by changing the lines to
<BR> &nbsp;
<BR><DIV style="background-color:#E6E6E6;font-family:courier new;font-size:85%;font-weight:bold;">
<B><CODE><FONT color="#000000"> $activity-&gt;SetHeight(10);
<BR />$activity2-&gt;SetHeight(10);</FONT></CODE></B></DIV></P>
<P> we instead get</P>
<P><DIV align="center">
<BR><A href="exframes/frame_ganttex11.html"> <IMG border="0" HEIGHT="251"
 src="img/ganttex11.png" WIDTH="913"></A>
<BR><SMALL><EM><B>Figure 12:</B> Setting both bars height to 10 pixels<A href="exframes/frame_ganttex11.html">
 [src]</A></EM></SMALL></DIV></P>
<P> So what can we actually do? Well if you remember the reserved height
 for each bar is the maximum height of all bars including titles. This
 guarantees that no two bars will ever overlap. To guarantee that titles
 don't end up too close together there is a<B> Vertical Label Margin</B>
 which basically specifies some extra &quot;air&quot; in between the titles. The
 amount of air is specified in percent of the title height. To set the
 margin you use
<BR> &nbsp;
<BR><DIV style="background-color:#E6E6E6;font-family:courier new;font-size:85%;font-weight:bold;">
<B><CODE><FONT color="#000000">
 GanttGraph::SetLabelVMarginFactor($aMargin)</FONT></CODE></B></DIV></P>
<P> As an example let's set that margin in the previous example to 0 and
 see what happens.</P>
<P><DIV align="center">
<BR><A href="exframes/frame_ganttex12.html"> <IMG border="0" HEIGHT="220"
 src="img/ganttex12.png" WIDTH="913"></A>
<BR><SMALL><EM><B>Figure 13:</B> Setting the vertical label margin to 0%<A
href="exframes/frame_ganttex12.html"> [src]</A></EM></SMALL></DIV></P>
<P> As you would perhaps expect the two bars just barely touches now
 since there are no extra margin added. If the two bars hadn't had the
 extra right marker it would have looked very compressed.</P>
<P> By default the vertical margin is set to 40%.</P>
<H2><A NAME="9_9">9.9 Formatting the scale headers</A></H2>
 The scale headers allow you to view up to four different scales at the
 same time. The four basic scales are:
<UL>
<LI> Day scale</LI>
<LI> Week scale</LI>
<LI> Month scale</LI>
<LI> Year scale</LI>
</UL>
 You can choose what scale to include and exclude by using the
 SetScale() method. For example, for a detailed gantt you might choose
 to display days and weeks by specifying
<BR> &nbsp;
<BR><DIV style="background-color:#E6E6E6;font-family:courier new;font-size:85%;font-weight:bold;">
<B><CODE><FONT color="#000000"> $graph-&gt;ShowHeaders( GANTT_HWEEK |
 GANTT_DAY );</FONT></CODE></B></DIV>
<P> If you instead wanted &quot;the big picture&quot; it might be enough to show
 year and months by specifying
<BR> &nbsp;
<BR><DIV style="background-color:#E6E6E6;font-family:courier new;font-size:85%;font-weight:bold;">
<B><CODE><FONT color="#000000"> $graph-&gt;ShowHeaders( GANTT_YEAR |
 GANTT_MONTH );</FONT></CODE></B></DIV></P>
<P> You can choose freely the combination of scales that you want, but a
 chart must at least have one scale of course.</P>
<P> Once you have decided what level of details you need you can then
 fine tune the exact layout/formatting of each of the enabled scales as
 described below.</P>
<P> These scale header are all accessed through the graph instance
 variables 'scale' as in
<BR> &nbsp;
<BR><DIV style="font-family:courier;font-size:85%;font-weight:bold;"><CODE>
<FONT color="#000000"> $graph-&gt;scale-&gt;week</FONT></CODE></DIV></P>
<P> or
<BR> &nbsp;
<BR><DIV style="font-family:courier;font-size:85%;font-weight:bold;"><CODE>
<FONT color="#000000"> $graph-&gt;scale-&gt;day</FONT></CODE></DIV></P>
<P> . All these headers share the following properties.</P>
<UL>
<LI>
<BR> &nbsp;
<BR><DIV style="font-family:courier;font-size:85%;font-weight:bold;"><CODE>
<FONT color="#000000"> Show()</FONT></CODE></DIV>
<P> Determine if the scale should be shown or not</P>
</LI>
<LI>
<BR> &nbsp;
<BR><DIV style="font-family:courier;font-size:85%;font-weight:bold;"><CODE>
<FONT color="#000000"> SetFont()</FONT></CODE></DIV>
<P> Font for text in header</P>
</LI>
<LI>
<BR> &nbsp;
<BR><DIV style="font-family:courier;font-size:85%;font-weight:bold;"><CODE>
<FONT color="#000000"> SetFontColor()</FONT></CODE></DIV>
<P> Specify the color of the header text</P>
</LI>
<LI>
<BR> &nbsp;
<BR><DIV style="font-family:courier;font-size:85%;font-weight:bold;"><CODE>
<FONT color="#000000"> SetStyle()</FONT></CODE></DIV>
<P> Specify what date format should be used, for example in the week
 scale it is possible to show either week number, the start date of the
 week and so on.</P>
</LI>
<LI>
<BR> &nbsp;
<BR><DIV style="font-family:courier;font-size:85%;font-weight:bold;"><CODE>
<FONT color="#000000"> SetBackgroundColor()</FONT></CODE></DIV>
<P> As it says, the background color for the header</P>
</LI>
<LI>
<BR> &nbsp;
<BR><DIV style="font-family:courier;font-size:85%;font-weight:bold;"><CODE>
<FONT color="#000000"> SetFrameWeight()</FONT></CODE></DIV>
<P> The line weight of the box around the scale</P>
</LI>
<LI>
<BR> &nbsp;
<BR><DIV style="font-family:courier;font-size:85%;font-weight:bold;"><CODE>
<FONT color="#000000"> SetFrameColor()</FONT></CODE></DIV>
<P> The line color for the frame</P>
</LI>
<LI>
<BR> &nbsp;
<BR><DIV style="font-family:courier;font-size:85%;font-weight:bold;"><CODE>
<FONT color="#000000"> SetTitleVertMargin()</FONT></CODE></DIV>
<P> The margin, in percent, below and above the title text</P>
</LI>
</UL>
 In addition to these methods each scale also has the property 'grid'
 which determines the appearance of grid lines for that specific scale.
 You may modify the appearance of grid lines by the &quot;normal&quot; line
 methods, i.e. SetColor(),SetWeight() SetStyle() and Show(). So for
 example to set the week grid line red you would use
<BR> &nbsp;
<BR><DIV style="background-color:#E6E6E6;font-family:courier new;font-size:85%;font-weight:bold;">
<B><CODE><FONT color="#000000">
 $graph-&gt;scale-&gt;week-&gt;grid-&gt;SetColor(&quot;red&quot;);</FONT></CODE></B></DIV>
<P> Each of the scales also have some specific formatting possibilities
 as described below.</P>
<H3><A NAME="9_9_1">9.9.1 Minute scale</A></H3>
 Minute scale is the lowest resolution you can use. It is often
 convenient to use Minute scale with &quot;GanttScale::SetINtervall()&quot; since
 by default the increment will be 1 minute. The style of minute scale
 can be further adjusted by the use<I> style/i&gt; parameters which can be
 one of
<OL>
<LI> &quot;MINUTESTYLE_MM&quot;, This will display minutes as a two digit number
 with a leading zero if necessary</LI>
<LI> &quot;MINUTESTYLE_CUSTOM&quot;, This will let you specify you own custom
 minute style by making a call to<I> HeaderProperty:: SetFormatString()</I>
</LI>
</OL>
 Minute scale is enabled by adding the GANTT_HMIN in the
 GanttGraph::ShowHeaders() call. For example as in
<BR> &nbsp;
<BR><DIV style="background-color:#E6E6E6;font-family:courier new;font-size:85%;font-weight:bold;">
<B><CODE><FONT color="#000000"> $graph-&gt;ShowHeaders(GANTT_HDAY |
 GANTT_HHOUR | GANTT_HMIN);</FONT></CODE></B></DIV>
<P> The code snippet below shows how to set up a minute scale with 30
 min interval and some custom colors.
<BR> &nbsp;
<BR><DIV style="background-color:#E6E6E6;font-family:courier new;font-size:85%;font-weight:bold;">
<B><CODE><FONT color="#000000"> $graph-&gt;scale-&gt;minute-&gt;SetIntervall(30);
<BR />$graph-&gt;scale-&gt;minute-&gt;SetBackgroundColor('lightyellow:1.5');
<BR />$graph-&gt;scale-&gt;minute-&gt;SetFont(FF_FONT0);
<BR />$graph-&gt;scale-&gt;minute-&gt;SetStyle(MINUTESTYLE_MM);
<BR />$graph-&gt;scale-&gt;minute-&gt;grid-&gt;SetColor('lightgray');</FONT></CODE></B>
</DIV></P>
<P></P>
<H3><A NAME="9_9_2">9.9.2 Hour scale</A></H3>
 The hour scale has more builtin formatting possibilities. The following
 formatting options are available
<OL>
<LI> &quot;HOURSTYLE_HM24&quot;, Will display the only the hour in military time
 0-24 , for example 13:00</LI>
<LI> &quot;HOURSTYLE_H24&quot;, Will display the hour with both hour and minute in
 military time 0-24, for example 13</LI>
<LI>&quot;HOURSTYLE_HMAMPM&quot;, Will display the hour and minutes with a
 suitable am/pm postfix, for example 1:30pm</LI>
<LI> &quot;HOURSTYLE_HAMPM&quot;, Will display only the hour with a suitable am/pm
 postfix, for example 1pm</LI>
<LI>&quot;HOURSTYLE_CUSTOM&quot;, Custom defined format as specified with a call
 to HeaderProperty::SetFormatString()</LI>
</OL>
 For hours it is possible to specify the interval in either of two ways.
 With an integer, e.g. 6, or as time interval, e.g. &quot;1:30&quot; which makes
 the interval one and a half hour. The only restriction is that the
 interval must be even dividable for 24 hours since one day is the
 smallest possible interval to show. This means that it is allowed to
 use, for example 2,4,6,&quot;1:30&quot; or &quot;0:45&quot; as intervals but not 7, &quot;2:45&quot;.
<P> The code snippet below shows hot to set up a hour scale to with 45
 minutes interval and some custom colors
<BR> &nbsp;
<BR><DIV style="background-color:#E6E6E6;font-family:courier new;font-size:85%;font-weight:bold;">
<B><CODE><FONT color="#000000">
 $graph-&gt;scale-&gt;hour-&gt;SetBackgroundColor('lightyellow:1.5');
<BR />$graph-&gt;scale-&gt;hour-&gt;SetFont(FF_FONT1);
<BR />$graph-&gt;scale-&gt;hour-&gt;SetStyle(HOURSTYLE_HMAMPM);
<BR />$graph-&gt;scale-&gt;hour-&gt;SetIntervall(&quot;0:45&quot;);</FONT></CODE></B></DIV></P>
<P> The example below shows a gantt chart with the day and hour scale
 enabled</P>
<P><DIV align="center">
<BR><A href="exframes/frame_gantthourex1.html"> <IMG border="0" HEIGHT="182"
 src="img/gantthourex1.png" WIDTH="571"></A>
<BR><SMALL><EM><B>Figure 14:</B> Using hour scale in the Gantt chart<A href="exframes/frame_gantthourex1.html">
 [src]</A></EM></SMALL></DIV></P>
<P></P>
<H3><A NAME="9_9_3">9.9.3 Day scale</A></H3>
 Days are shown as &quot;one letter boxes&quot;. The extra formatting
 possibilities you have for days is the possibility to specify a
 different color for the weekend background and for the Sunday.
<UL>
<LI>
<BR>&nbsp;
<BR><DIV style="font-family:courier;font-size:85%;font-weight:bold;"><CODE>
<FONT color="#000000"> SetWeekendColor()</FONT></CODE></DIV>
<P> Set the background color for weekends. (Defaults to light gray)</P>
</LI>
<LI>
<BR>&nbsp;
<BR><DIV style="font-family:courier;font-size:85%;font-weight:bold;"><CODE>
<FONT color="#000000"> SetSundayFontColor()</FONT></CODE></DIV>
<P> The Sunday font color. (Defaults to red)</P>
</LI>
</UL>
 In addition to this there is also a possibility to choose whether or
 not the weekend background should be extended vertically down over the
 plot area. By default it is. Since that is a property more of the whole
 plot you modify this behavior with a call to the method
<BR> &nbsp;
<BR><DIV style="font-family:courier;font-size:85%;font-weight:bold;"><CODE>
<FONT color="#000000"> UseWeekendBackground()</FONT></CODE></DIV>
<P> of the scale, e.g.
<BR> &nbsp;
<BR> &nbsp;
<BR><DIV style="background-color:#E6E6E6;font-family:courier new;font-size:85%;font-weight:bold;">
<B><CODE><FONT color="#000000">
 $graph-&gt;scale-&gt;UseWeekendBackground(false);</FONT></CODE></B></DIV></P>
<P></P>
<H3><A NAME="9_9_4">9.9.4 Week scale</A></H3>
 Week scales, if enabled, by default shows the week number in range 1 to
 53 (as defined by ISO-8601, see the reference section).
<P> It might be worth pointing out here that the week number calculation
 is carried out within JpGraph and does not rely on the underlying OS
 date libraries. This makes the behavior consistent over several OS:s
 (at least M$ Windows does<B> not</B> comply to ISO-8601 or supply any
 way of doing this through the normal libraries, e.g. strftime())</P>
<P> You may modify the week behavior in three ways. You can specify
 (with SetStyle()) a different date format using the constants</P>
<UL>
<LI>
<BR> &nbsp;
<BR><DIV style="font-family:courier;font-size:85%;font-weight:bold;"><CODE>
<FONT color="#000000"> WEEKSTYLE_WNBR</FONT></CODE></DIV>
<P> Show week number To further modify the formatting of the actual week
 number you can optionally supply a format string with a call to
<BR> &nbsp;
<BR><DIV style="font-family:courier;font-size:85%;font-weight:bold;"><CODE>
<FONT color="#000000"> SetLabelFormatString()</FONT></CODE></DIV></P>
<P> The format of the string should be a standard sprintf() syntax
 expecting an integer (the week number). By default a 'W' is prefixed to
 the number.</P>
</LI>
<LI>
<BR> &nbsp;
<BR><DIV style="font-family:courier;font-size:85%;font-weight:bold;"><CODE>
<FONT color="#000000"> WEEKSTYLE_FIRSTDAY</FONT></CODE></DIV>
<P> Show date of first day in week.</P>
</LI>
</UL>
<H3><A NAME="9_9_5">9.9.5 Month scale</A></H3>
 For month scale you can use the SetStyle() method to choose between a
 variety of formats.
<UL>
<LI>
<BR>&nbsp;
<BR><DIV style="font-family:courier;font-size:85%;font-weight:bold;"><CODE>
<FONT color="#000000"> MONTHSTYLE_SHORTNAME</FONT></CODE></DIV>
<P> Display the month name in its locale specific short form, i.e Jan,
 Feb etc</P>
</LI>
<LI>
<BR>&nbsp;
<BR><DIV style="font-family:courier;font-size:85%;font-weight:bold;"><CODE>
<FONT color="#000000"> MONTHSTYLE_SHORTNAMEYEAR2</FONT></CODE></DIV>
<P> Display the month name in its locale specific short form together
 with a 2 digit year , i.e Jan '01, Feb '01 etc</P>
</LI>
<LI>
<BR>&nbsp;
<BR><DIV style="font-family:courier;font-size:85%;font-weight:bold;"><CODE>
<FONT color="#000000"> MONTHSTYLE_SHORTNAMEYEAR4</FONT></CODE></DIV>
<P> Display the month name in its locale specific short form together
 with a 4 digit year , i.e Jan 2001, Feb 2001 etc</P>
</LI>
<LI>
<BR>&nbsp;
<BR><DIV style="font-family:courier;font-size:85%;font-weight:bold;"><CODE>
<FONT color="#000000"> MONTHSTYLE_LONGNAME</FONT></CODE></DIV>
<P> Display the month name in its locale specific long name, i.e.
 January, February</P>
</LI>
<LI>
<BR>&nbsp;
<BR><DIV style="font-family:courier;font-size:85%;font-weight:bold;"><CODE>
<FONT color="#000000"> MONTHSTYLE_LONGNAMEYEAR2</FONT></CODE></DIV>
<P> Display the month name in its locale specific long name together
 with a 2 digit year , i.e January '01, February '01 etc</P>
</LI>
<LI>
<BR>&nbsp;
<BR><DIV style="font-family:courier;font-size:85%;font-weight:bold;"><CODE>
<FONT color="#000000"> MONTHSTYLE_LONGNAMEYEAR4</FONT></CODE></DIV>
<P> Display the month name in its locale specific long name together
 with a 4 digit year , i.e January 2001, February 2001 etc</P>
</LI>
</UL>
<H3><A NAME="9_9_6">9.9.6 Year scale</A></H3>
 Year scale has no extra formatting possibilities. (Simply because I
 couldn't come up with any useful modification of a simple year. If you
 have any suggestion of fancy formatting you think could be useful
 please drop me a note and I have something to do for the next version)
<H2><A NAME="9_10">9.10 More formatting for bars</A></H2>
 This section shows some further modification you might do to activity
 bars.
<H3><A NAME="9_10_1">9.10.1 Adding caption to bars</A></H3>
 Caption for bars are placed at the far right side of the bars. They can
 for example be used to indicate the resources assigned to a task, the
 duration of the task or the progress of the activity.
<P> Caption text for a bar is specified either when creating a bar or
 later by accessing the 'caption' property of bars. So the two lines
<BR> &nbsp;
<BR><DIV style="background-color:#E6E6E6;font-family:courier new;font-size:85%;font-weight:bold;">
<B><CODE><FONT color="#000000"> $activity = new GanttBar(0,&quot;Activity
 1&quot;,&quot;2001-11-21&quot;,&quot;2001-12-20&quot;,&quot;[BS,ER]&quot;)</FONT></CODE></B></DIV></P>
<P> and
<BR> &nbsp;
<BR><DIV style="background-color:#E6E6E6;font-family:courier new;font-size:85%;font-weight:bold;">
<B><CODE><FONT color="#000000"> $activity-&gt;caption-&gt;Set(&quot;[BS,ER]&quot;);</FONT>
</CODE></B></DIV></P>
<P> are both ways of specifying the caption &quot;[BS,ER]&quot; for the activity.
 Since activity is a standard JpGraph text object you can easily modify
 font, color and size with calls to SetFont() and SetColor(), (e.g.
<BR>&nbsp;
<BR><DIV style="background-color:#E6E6E6;font-family:courier new;font-size:85%;font-weight:bold;">
<B><CODE><FONT color="#000000">
 $activity-&gt;caption-&gt;SetFont(FF_ARIAL,FF_BOLD,9);</FONT></CODE></B></DIV>
</P>
<P></P>
<P> The figure below illustrates the use of caption</P>
<P><DIV align="center">
<BR><A href="exframes/frame_ganttex13.html"> <IMG border="0" HEIGHT="194"
 src="img/ganttex13.png" WIDTH="435"></A>
<BR><SMALL><EM><B>Figure 15:</B> Illustration of the use of captions<A href="exframes/frame_ganttex13.html">
 [src]</A></EM></SMALL></DIV></P>
<P></P>
<H3><A NAME="9_10_2">9.10.2 Adding progress indicators to bars</A></H3>
 To indicate the progress of a specific activity it is also possible to
 add a progress indicator to each bar. This progress indicator consists
 of a smaller bar within the bar. By default this progress bar is black
 and 70% of the height of the bar. These parameter can (of course) all
 be changed.
<P> The properties for the progress indicator are accessed through the
 'progress' property and it's methods.</P>
<P> To set the progress for a specific activity you only specify the
 percent as a fraction. As in
<BR> &nbsp;
<BR><DIV style="background-color:#E6E6E6;font-family:courier new;font-size:85%;font-weight:bold;">
<B><CODE><FONT color="#000000"> $activity-&gt;progress-&gt;Set(0.4)</FONT></CODE>
</B></DIV></P>
<P> In Figure 16 the previous example is modified to indicate the
 progress of each activity by the default progress indicator. A solid
 bar. To make it clearer I have also modified the caption to reflect the
 displayed progress. (At the same time I slightly modified the scale
 headers just for fun).</P>
<P><DIV align="center">
<BR><A href="exframes/frame_ganttex14.html"> <IMG border="0" HEIGHT="199"
 src="img/ganttex14.png" WIDTH="435"></A>
<BR><SMALL><EM><B>Figure 16:</B> Adding progress indicators.<A href="exframes/frame_ganttex14.html">
 [src]</A></EM></SMALL></DIV></P>
<P> To specify a different format for the progress you use the
 SetPattern() method as in
<BR> &nbsp;
<BR><DIV style="background-color:#E6E6E6;font-family:courier new;font-size:85%;font-weight:bold;">
<B><CODE><FONT color="#000000">
 $activity-&gt;progress-&gt;SetPattern(BAND_RDIAG,&quot;blue&quot;);</FONT></CODE></B></DIV>
</P>
<P> In the reference section you can see the exact parameters and all
 available methods.</P>
<P><DIV align="center">
<BR><A href="exframes/frame_ganttex15.html"> <IMG border="0" HEIGHT="199"
 src="img/ganttex15.png" WIDTH="435"></A>
<BR><SMALL><EM><B>Figure 17:</B> Changing the style of the progress
 indicators.<A href="exframes/frame_ganttex15.html"> [src]</A></EM></SMALL>
</DIV></P>
<P></P>
<H2><A NAME="9_11">9.11 Grouping activities</A></H2>
 It is common to group activities. We have used this feature in the
 examples of constrains. There is no special type for activity bars that
 are used to illustrate grouping. The common way of illustrating this
 (as have been used above) is to add &quot;half&quot; a triangle marker at both
 ends of the bar. The special provision that JpGraph does is that if you
 add a left or right marker of type MARK_LEFTTRIANGLE or
 MARK_RIGHTTRIANGLE those triangles will be drawn under the bars to give
 the effect as show in the examples above. In the example above we also
 have made the grouping bars have slightly less heigh since the end
 triangles will visually &quot;grow&quot; the bar.
<P> So to get the effect we want for a group bar we have to use the two
 lines:
<BR> &nbsp;
<BR><DIV style="background-color:#E6E6E6;font-family:courier new;font-size:85%;font-weight:bold;">
<B><CODE><FONT color="#000000">
 $groupbar-&gt;leftMark-&gt;SetType(&quot;MARK_LEFTTRIANGLE&quot;);
<BR />$groupbar-&gt;rightMark-&gt;SetType(&quot;MARK_RIGHTTRIANGLE&quot;)</FONT></CODE></B>
</DIV></P>
<P></P>
<P> As of the current version There is not yet any formatting support to
 accomplish the effect of indentation for the titles so this is
 accomplished by using a fixed width font and adding spaces in front of
 the title.</P>
<H2><A NAME="9_12">9.12 Using multiple columns as titles</A></H2>
 It is often of interest not only to show one title for a gantt bar but
 often one wants to show, title, start date, end date, duration or
 effort and so on. Up until now we have, to keep things simple only
 shown a single title for each activity. We will now show you how you
 can specify an arbitrary number of columns as titles for a Gantt chart
 as well as adding icons in the graph columns.
<P> First out is an example to help visualize what we will achieve</P>
<P><DIV align="center">
<BR><A href="exframes/frame_gantticonex1.html"> <IMG border="0" HEIGHT="206"
 src="img/gantticonex1.png" WIDTH="613"></A>
<BR><SMALL><EM><B>Figure 18:</B> A Gantt chart with multiple columns<A href="exframes/frame_gantticonex1.html">
 [src]</A></EM></SMALL></DIV></P>
<P> To use multiple columns there is two steps. First you need to set
 the titles (name, color, fonts etc). Thereafter you need to add the
 title columns for each individual bar.</P>
<P> To set the columns you will have to work with the<I> Activity
 information</I> property of the scale. The following code excerpt show
 this
<BR> &nbsp;
<BR><DIV style="background-color:#E6E6E6;font-family:courier new;font-size:85%;font-weight:bold;">
<B><CODE><FONT color="#000000"> $graph-&gt;scale-&gt;actinfo-&gt;SetColTitles(
<BR />
&nbsp;&nbsp;&nbsp;&nbsp;array('Note','Task','Duration','Start','Finish'),array(30,100));</FONT>
</CODE></B></DIV></P>
<P> You will notice two things. We fist specify the titles using an
 array. We have also specified a second array with the numbers 30 and
 100. This is an optional array that specifies the minimum width of, in
 this case, the first two columns. By default the columns will be wide
 enough to hold the widesat text string in the column. However for
 esthetic reasons you might sometimes want to increase the minium width.
 This is what we have done here for the first two columns.</P>
<P> Furthermore you can also adjust the background colors and the style
 and colors of the vertical dividing grid lines. In the previous image
 we used the lines
<BR> &nbsp;
<BR><DIV style="background-color:#E6E6E6;font-family:courier new;font-size:85%;font-weight:bold;">
<B><CODE><FONT color="#000000">
 $graph-&gt;scale-&gt;actinfo-&gt;SetBackgroundColor('green:0.5@0.5');
<BR />$graph-&gt;scale-&gt;actinfo-&gt;SetFont(FF_ARIAL,FS_NORMAL,10);
<BR />$graph-&gt;scale-&gt;actinfo-&gt;vgrid-&gt;SetStyle('solid');
<BR />$graph-&gt;scale-&gt;actinfo-&gt;vgrid-&gt;SetColor('gray');</FONT></CODE></B></DIV>
</P>
<P> The style for the grid lines can also be &quot;dashed&quot;, &quot;dotted&quot; or
 &quot;longdashed&quot; as in other line formatting contexts within the library.
 You can also adjust if you would like the small &quot;3D&quot; effect in the
 titles. By default this is enabled. You can easily turn this of with a
 call to
<BR> &nbsp;
<BR><DIV style="background-color:#E6E6E6;font-family:courier new;font-size:85%;font-weight:bold;">
<B><CODE><FONT color="#000000">
 $graph-&gt;scale-&gt;actinfo-&gt;SetStyle(ACTINFO_2D);</FONT></CODE></B></DIV></P>
<P> To adjust the colors of the vertical dividing lines in the title the
 method SetColor() is used as in
 &quot;$graph-&gt;scale-&gt;actinfo-&gt;SetColor('navy');&quot;.</P>
<P> The second thins is to actually populate the columns. This is done
 (of course) as you add the activity bars to the graph. Previous we just
 used a string as the title when we wasn't using columns. By simply
 replacing this string with an array we specify the content of the
 columns.</P>
<P> For example to specify two column titles we just create a
 hypothetical Gantt bar as In the full example above we put all this in
 arrays to make for better coding practice since we create several bars.</P>
<P> In addition to ordinary text you can also add an image or any of the
 predefined icons available. In order to add that in a column you first
 create an instance of<I> IconImage()</I> and then specify that instance
 instead of the text. So in the previous code snippet if we wanted a
 &quot;open folder&quot; image in the first column we would change the lines to
<BR> &nbsp;
<BR><DIV style="background-color:#E6E6E6;font-family:courier new;font-size:85%;font-weight:bold;">
<B><CODE><FONT color="#000000"> $iconopen = new
 IconImage(GICON_FOLDEROPEN,0.6);
<BR />$title2=&quot;&quot;;
<BR />$bar = new
 GanttBar(0,array($iconopen,$title2),&quot;2003-11-23&quot;,&quot;2003-12-05&quot;);</FONT></CODE>
</B></DIV></P>
<P> The available builtin icons are</P>
<UL>
<LI>GICON_WARNINGRED</LI>
<LI>GICON_TEXT</LI>
<LI>GICON_ENDCONS</LI>
<LI>GICON_MAIL</LI>
<LI>GICON_STARTCONS</LI>
<LI>GICON_CALC</LI>
<LI>GICON_MAGNIFIER</LI>
<LI>GICON_LOCK</LI>
<LI>GICON_STOP</LI>
<LI>GICON_WARNINGYELLOW</LI>
<LI>GICON_FOLDEROPEN</LI>
<LI>GICON_FOLDER</LI>
<LI>GICON_TEXTIMPORTANT</LI>
</UL>
 In addition you can also use any of you own images if you specify the
 argument as a string, for example
<BR> &nbsp;
<BR><DIV style="background-color:#E6E6E6;font-family:courier new;font-size:85%;font-weight:bold;">
<B><CODE><FONT color="#000000"> $myicon = IconImage('myicon.png');</FONT>
</CODE></B></DIV>
<P> If you wonder, the second argument in the<I> IconImage()</I> call is
 an optional scaling factor which you can use to adjust the size of the
 image.</P>
<H3><A NAME="9_12_1">9.12.1 Adding a title for the columns</A></H3>
 Precisely as before you can also have a title spanning all the columns.
 This title is specified with the property<I> tableTitle</I> of the
 scale. Specifying a table title will automatically adjust the height of
 the column titles to fit the table title. The small code snippet below
 shows how to add a title.
<BR> &nbsp;
<BR><DIV style="background-color:#E6E6E6;font-family:courier new;font-size:85%;font-weight:bold;">
<B><CODE><FONT color="#000000"> $graph-&gt;scale-&gt;tableTitle-&gt;Set('Phase
 1');
<BR />$graph-&gt;scale-&gt;tableTitle-&gt;SetFont(FF_ARIAL,FS_NORMAL,12);
<BR />$graph-&gt;scale-&gt;SetTableTitleBackground('darkgreen@0.6');
<BR />$graph-&gt;scale-&gt;tableTitle-&gt;Show(true);</FONT></CODE></B></DIV>
<P> A full example of this is shown below</P>
<P><DIV align="center">
<BR><A href="exframes/frame_gantthourminex1.html"> <IMG border="0" HEIGHT="223"
 src="img/gantthourminex1.png" WIDTH="1197"></A>
<BR><SMALL><EM><B>Figure 19:</B> Adding a column titles stratching all
 title columns.<A href="exframes/frame_gantthourminex1.html"> [src]</A></EM>
</SMALL></DIV></P>
<P></P>
<H3><A NAME="9_12_2">9.12.2 Specifying CSIM entries for column titles</A>
</H3>
 In exactly the same way as for a single title it is possible to specify
 individual CSIM targets for each of the title columns. This is
 accomplished by specifying an array for both the target and the alt
 text instead of a single string as arguments for<I> SetCSIMTarget()</I>
 The following code snippet shows how to specify that.
<BR> &nbsp;
<BR><DIV style="background-color:#E6E6E6;font-family:courier new;font-size:85%;font-weight:bold;">
<B><CODE><FONT color="#000000">
 $bar-&gt;title-&gt;SetCSIMTarget(array('sometarget1.html','sometarget1.html'),
<BR />array('alttext1','alttext2'));</FONT></CODE></B></DIV>
<P></P>
<H2><A NAME="9_13">9.13 More general Gantt formatting</A></H2>
 In this section we will show a few more way by which you may customize
 the gantt chart itself. This includes
<UL>
<LI> Adding a table title (not to be confused with the graph title)</LI>
<LI> Adjusting appearance of the various lines in the bar chart</LI>
</UL>
<H3><A NAME="9_13_1">9.13.1 Adding a table title</A></H3>
 The (default) white area in the top left of the gantt table may have a
 title. This is accessed by the 'tableTitle' property of the gantt
 scale. Using this is straightforward as the following lines show.
<BR> &nbsp;
<BR><DIV style="background-color:#E6E6E6;font-family:courier new;font-size:85%;font-weight:bold;">
<B><CODE><FONT color="#000000"> $graph-&gt;scale-&gt;tableTitle-&gt;Set(&quot;(Rev:
 1.22)&quot;);
<BR />$graph-&gt;scale-&gt;tableTitle-&gt;SetFont(FF_FONT1,FS_BOLD);
<BR />$graph-&gt;scale-&gt;SetTableTitleBackground(&quot;silver&quot;);
<BR />$graph-&gt;scale-&gt;tableTitle-&gt;Show();</FONT></CODE></B></DIV>
<P> The example lines above also changes the default white background to
 silver. Adding these lines to the previous example gives the following
 result:</P>
<P><DIV align="center">
<BR><A href="exframes/frame_ganttex16.html"> <IMG border="0" HEIGHT="199"
 src="img/ganttex16.png" WIDTH="465"></A>
<BR><SMALL><EM><B>Figure 20:</B> Adding a table title.<A href="exframes/frame_ganttex16.html">
 [src]</A></EM></SMALL></DIV></P>
<P> From the above example you might notice that the width of the left
 column (which holds all the titles) have automatically adjusted itself
 to make the table title fit.</P>
<H3><A NAME="9_13_2">9.13.2 Modifying the divider lines</A></H3>
 The vertical and horizontal lines between the titles and the bars can
 be modified by accessing the 'divider' and 'dividerh' properties of the
 scale. Again, this is straightforward as the following example shows:
<BR> &nbsp;
<BR><DIV style="background-color:#E6E6E6;font-family:courier new;font-size:85%;font-weight:bold;">
<B><CODE><FONT color="#000000"> $graph-&gt;scale-&gt;divider-&gt;SetWeight(3);
<BR />$graph-&gt;scale-&gt;divider-&gt;SetColor(&quot;navy&quot;);
<BR />$graph-&gt;scale-&gt;dividerh-&gt;SetWeight(3);
<BR />$graph-&gt;scale-&gt;dividerh-&gt;SetColor(&quot;navy&quot;);</FONT></CODE></B></DIV>
<P> The effect of this is shown in Figure 21 below</P>
<P><DIV align="center">
<BR><A href="exframes/frame_ganttex17.html"> <IMG border="0" HEIGHT="199"
 src="img/ganttex17.png" WIDTH="459"></A>
<BR><SMALL><EM><B>Figure 21:</B> Modifying the dividing line<A href="exframes/frame_ganttex17.html">
 [src]</A></EM></SMALL></DIV></P>
<P></P>
<H3><A NAME="9_13_3">9.13.3 Modifying the box around the plot</A></H3>
 In a similar manner to the other plots in JpGraph you modify the Box
 round the plot with the standard graph method 'SetBox()' as in
<BR> &nbsp;
<BR><DIV style="background-color:#E6E6E6;font-family:courier new;font-size:85%;font-weight:bold;">
<B><CODE><FONT color="#000000"> $graph-&gt;SetBox(true,&quot;navy&quot;,3)</FONT></CODE>
</B></DIV>
<P> which will result in a thicker plot box around the area as shown
 below</P>
<P><DIV align="center">
<BR><A href="exframes/frame_ganttex18.html"> <IMG border="0" HEIGHT="199"
 src="img/ganttex18.png" WIDTH="459"></A>
<BR><SMALL><EM><B>Figure 22:</B> Modifying the box around the plotarea<A href="exframes/frame_ganttex18.html">
 [src]</A></EM></SMALL></DIV></P>
<P></P>
<P> <SMALL><B> Note:</B> You might notice the slight discrepancy in
 design that here you use a method and in the previous cases accessed a
 property which you modified. This is the unfortunate affect of over a
 years development of JpGraph. My own design preference has simply
 changed over time. For revision 2.x I plan on taking the opportunity to
 make things like this more conform since I have now convinced myself
 that this is a better design.</SMALL></P>
<H2><A NAME="9_14">9.14 Simplifying the drawing of Gantt graphs</A></H2>
 As we have shown in the previous examples constructing a Gantt chart
 consists of a number of repetitive tasks; Create the individual
 activity bars and add them to the graph.
<P> Now when you have a basic understanding of how this works you are
 ready to appreciate a small helper method.<A href="">
 GanttGraph::CreateSimple()</A>. This method takes a few arrays of data
 which specifies you Gantt chart and then constructs this chart. By
 using this method you sacrifices a few adjustment possibilities for
 simplicity. This method is nothing magical it just takes the data for
 the activities,(start and end date, titles, progress, any constrains
 and so on) and constructs the activities and adds them to the graph.</P>
<P> The activities are specified in data array which for each activity
 have the following fields</P>
<UL>
<LI> What row the activity should be on</LI>
<LI> Activity type, controls the appearance. Can be one of
<OL>
<LI> ACTYPE_NORMAL, A standard activty bar</LI>
<LI> ACTYPE_GROUP, A Grouping bar</LI>
<LI> ACTYPE_MILESTONE, A milestone</LI>
<LI></LI>
</OL>
</LI>
<LI> Title text</LI>
<LI> Start date</LI>
<LI> End date (NOT FOR Milestones!)</LI>
<LI> Caption</LI>
</UL>
<P> So for example to create a Gantt chart consisting of two activities
 which are grouped and a milestone one would have to use something
 similar to the following code</P>
<P>
<BR> &nbsp;
<BR><DIV style="background-color:#E6E6E6;font-family:courier new;font-size:85%;font-weight:bold;">
<B><CODE><FONT color="#000000"> $data = array(
<BR />&nbsp;&nbsp;array(0,ACTYPE_GROUP,&nbsp;&nbsp;&nbsp;&nbsp;&quot;Phase
 1&quot;,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;2001-10-26&quot;,&quot;2001-11-23&quot;,&quot;&quot;),
<BR />&nbsp;&nbsp;array(1,ACTYPE_NORMAL,&nbsp;&nbsp;&nbsp;&quot;&nbsp;&nbsp;Label
 2&quot;,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;2001-10-26&quot;,&quot;2001-11-13&quot;,&quot;[KJ]&quot;),
<BR />&nbsp;&nbsp;array(2,ACTYPE_NORMAL,&nbsp;&nbsp;&nbsp;&quot;&nbsp;&nbsp;Label
 3&quot;,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;2001-11-20&quot;,&quot;2001-11-22&quot;,&quot;[EP]&quot;),
<BR />&nbsp;&nbsp;array(3,ACTYPE_MILESTONE,&quot;&nbsp;&nbsp;Phase 1 Done&quot;, &quot;2001-11-23&quot;,&quot;M2&quot;) );
<BR />
<BR />// Create the basic graph
<BR />$graph = new GanttGraph();
<BR />$graph-&gt;title-&gt;Set(&quot;Gantt Graph using CreateSimple()&quot;);
<BR />
<BR />// Setup scale
<BR />$graph-&gt;ShowHeaders(GANTT_HYEAR | GANTT_HMONTH | GANTT_HDAY |
 GANTT_HWEEK);
<BR />$graph-&gt;scale-&gt;week-&gt;SetStyle(WEEKSTYLE_FIRSTDAY);
<BR />
<BR />// Add the specified activities
<BR />$graph-&gt;CreateSimple($data);
<BR />
<BR />// .. and stroke the graph
<BR />$graph-&gt;Stroke();
<BR /></FONT></CODE></B></DIV></P>
<P> This will then show up as</P>
<P><DIV align="center">
<BR><A href="exframes/frame_ganttsimpleex1.html"> <IMG border="0" HEIGHT="240"
 src="img/ganttsimpleex1.png" WIDTH="549"></A>
<BR><SMALL><EM><B>Figure 23:</B> Using the simplified way via
 CreateSimple() method<A href="exframes/frame_ganttsimpleex1.html">
 [src]</A></EM></SMALL></DIV></P>
<P> You may (slightly) modify the appearance of the simple Gantt charts
 by means of the methods<A href=""> GanttGraph::SetSimpleFont()</A> and<A
href=""> GanttGraph::SetSimpleStyle()</A> But not anything else,
 remember that the purpose with this way of constructing graphs is to be
 simple. If you need full advanced control you have to construct all the
 activities in the &quot;normal&quot; way.</P>
<P> You can also specify constrains and progress for each bar by
 supplying additional data arrays to GanttGraph::CreateSimple().</P>
<H2><A NAME="9_15">9.15 Adding CSIM (Client side Image Maps) to Gantt
 charts</A></H2>
 Gantt charts can have independent (different targets) hot spots in both
 the activities and in the associated labels for each activity.
<P> You specify the target and the associated &quot;Alt&quot; text for an activity
 bar by calling the<A href="../ref/GanttPlotObject.html#_GANTTPLOTOBJECT_SETCSIMTARGET">
 GanttBar::SetCSIMTarget()</A> and<A href="../ref/GanttPlotObject.html#_GANTTPLOTOBJECT_SETCSIMALT">
 GanttBar::SetCSIMAlt()</A></P>
<P> In a similar way you set the target and Alt texts for the activity
 title as the following code extract shows.
<BR> &nbsp;
<BR><DIV style="background-color:#E6E6E6;font-family:courier new;font-size:85%;font-weight:bold;">
<B><CODE><FONT color="#000000">
 $bar-&gt;SetCSIMTarget(&quot;http://localhost/abc/&quot;);
<BR />$bar-&gt;SetCSIMAlt(&quot;Alt Text for the bar&quot;);
<BR />$bar-&gt;title-&gt;SetCSIMTarget(&quot;http://localhost/abc&quot;);
<BR />$bar-&gt;title-&gt;SetCSIMAlt(&quot;Alt Text for the title&quot;);</FONT></CODE></B>
</DIV></P>
<P> The above code assumes that your activity is available in the
 variable 'bar'. In the example directory there is a complete example of
 how to use CSIM together with Gantt charts in the &quot;ganttcsimex1.php&quot;
 file. (Please note that this example makes use of the simplified Gantt
 chart specification using the CreateSimple() method.</P>
<H2><A NAME="9_16">9.16 Adding constrains between your activities</A></H2>
 With Gantt charts there is often the need to illustrate constrains
 between one or several activities. One of the most common constrain is
 that on activity can't start before an other activity finish.
<P> JpGraph support visualizing the following types of constrains</P>
<UL>
<LI> Start to End</LI>
<LI> Start to Start</LI>
<LI> End to Start</LI>
<LI> End to End</LI>
</UL>
 An example will clarify how to specify a constrain between two
 activities.
<P> Assume that we start with the Gantt schema as illustrated below</P>
<P><DIV align="center">
<BR><A href="exframes/frame_ganttconstrainex0.html"> <IMG border="0" HEIGHT="240"
 src="img/ganttconstrainex0.png" WIDTH="549"></A>
<BR><SMALL><EM><B>Figure 24:</B> The original Gantt schema we wich to
 add constrains to<A href="exframes/frame_ganttconstrainex0.html"> [src]</A>
</EM></SMALL></DIV></P>
<P> We would now like to add the constrains that the activity &quot;Label 3&quot;
 cant start before activity &quot;Label 2&quot; has finished and that the
 milestone &quot;Phase 1 done&quot; is depending on when activity &quot;Label 3&quot; is
 done.</P>
<P> The principle of adding constrains is that you for each activity you
 want to have a constrain you have to tell to what other activity this
 constrain should be to. That other activity is specified by telling on
 what row that activity lies. Depending on what type of constrain, e.g.
 Start-to-End, an arrow will now connect the two activities in correct
 way.</P>
<P> The way to do this is to call the<A href="../ref/GanttPlotObject.html#_GANTTPLOTOBJECT_SETCONSTRAIN">
 SetConstrain()</A> method on the activity. In this method you specify
 the type of constrain as well as to what other activity this constrain
 should be to. If you read the class reference you can also see that you
 can specify the type and size of arrow used. For now we will just use
 the default sizes and type.</P>
<P> So for example to add an End-To-Start constrain between &quot;Label 2&quot;
 and &quot;Label 3&quot; you could write
<BR> &nbsp;
<BR><DIV style="background-color:#E6E6E6;font-family:courier new;font-size:85%;font-weight:bold;">
<B><CODE><FONT color="#000000">
 $bar2-&gt;SetConstrain(2,CONSTRAIN_ENDSTART)</FONT></CODE></B></DIV></P>
<P> The first parameter in the call above &quot;2&quot; is the row of the target
 activity (i.e. the row where &quot;Label 3&quot;) activity is. In the example
 below we have added the constrains we wanted.</P>
<P><DIV align="center">
<BR><A href="exframes/frame_ganttconstrainex1.html"> <IMG border="0" HEIGHT="240"
 src="img/ganttconstrainex1.png" WIDTH="549"></A>
<BR><SMALL><EM><B>Figure 25:</B> Adding constrains to a gantt chart<A href="exframes/frame_ganttconstrainex1.html">
 [src]</A></EM></SMALL></DIV></P>
<P> A note: The actual path followed by the arrow is controlled by some
 heuristics to make it clear what the constrain is. It has been a design
 decision that in order to keep the API simple the user has no further
 detailed controlled on the actual path followed. However, in future
 version the heuristics may be extended and provide some
 user-controllable parameters.</P>
<H2><A NAME="9_17">9.17 Advanced formatting</A></H2>
<H3><A NAME="9_17_1">9.17.1 Showing only part of the graph</A></H3>
 You can choose to only display a vertical slice of the overall Gantt
 chart by explicitly specifying a date range with the method
 GanttGraph::SetDateRange(). This will cap any bars to only be displayed
 in between the start and end date given as parameters. For example
 specifying
<BR> &nbsp;
<BR><DIV style="background-color:#E6E6E6;font-family:courier new;font-size:85%;font-weight:bold;">
<B><CODE><FONT color="#000000">
 $graph-&gt;SetDateRange(&quot;2001-12-20&quot;,&quot;2002-01-20&quot;);</FONT></CODE></B></DIV>
<P> will show the part of the Gantt chart between the 20 Dec 2001 and 20
 of January 2002. Please note that the format depends on the locale
 setting.</P>
<H3><A NAME="9_17_2">9.17.2 Specifying start day of week</A></H3>
 You can set the week start day with a call to
 GanttScale::SetWeekStart(). This method takes an integer [0,6] as input
 which represents the start day of the week, 0 means Sunday, 1 Monday, 2
 Tuesday and so on. The default is to start the week on Monday.
<H2><A NAME="9_18">9.18 Localizing</A></H2>
 Depending on your installation of PHP you might have support for
 several locales. By default the locale is set up to use the default
 locale on the server.
<P> To specifically set a locale you specify the wanted locale with a
 locale string (ala standard PHP), for example American English is
 specified with the string 'EN_US', British English with 'EN_UK' 'nl_NL'
 for Dutch and so on. If your current installation does not support the
 specified locale an error message will be given.
<BR> &nbsp;
<BR><DIV style="background-color:#E6E6E6;font-family:courier new;font-size:85%;font-weight:bold;">
<B><CODE><FONT color="#000000"> $graph-&gt;scale-&gt;SetDateLocale(&quot;se_SE&quot;);</FONT>
</CODE></B></DIV></P>
<P> The result is displayed below.</P>
<P><DIV align="center">
<BR><A href="exframes/frame_ganttex19.html"> <IMG border="0" HEIGHT="199"
 src="img/ganttex19.png" WIDTH="457"></A>
<BR><SMALL><EM><B>Figure 26:</B> Using swedish locale. (Can you spot the
 difference from English?)<A href="exframes/frame_ganttex19.html"> [src]</A>
</EM></SMALL></DIV></P>
<P></P>
</I><HR>
<A HREF="index.html">Contents</A>
<A HREF="6csimdoc.html">Previous</A>
<A HREF="7adv.html">Next</A>
</BODY>
</HTML>
